<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>SpotMe &#8211; Eric Tung</title> <meta name="description" content="I spent my life building concrete foundations - literally. Now I'm aiming for the clouds - also kind of literally but mostly I just wanted to be punny there."> <meta name="keywords" content="mobile, react-native, redux, graphql, apollo, rails, ruby"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="https://tungeric.github.io//assets/img/logo.png"> <meta name="twitter:title" content="SpotMe"> <meta name="twitter:description" content=""> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="SpotMe"> <meta property="og:description" content=""> <meta property="og:url" content="https://tungeric.github.io//spotme/"> <meta property="og:site_name" content="Eric Tung"> <meta property="og:image" content="https://tungeric.github.io//assets/img/logo.png"> <link rel="canonical" href="https://tungeric.github.io//spotme/"> <link href="https://tungeric.github.io//feed.xml" type="application/atom+xml" rel="alternate" title="Eric Tung Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="https://tungeric.github.io//assets/css/main.css"> <!-- JS --> <script src="https://tungeric.github.io//assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="https://tungeric.github.io//assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="https://tungeric.github.io//assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="https://tungeric.github.io//assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="https://tungeric.github.io//assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="https://tungeric.github.io//favicon.png" /> <link rel="shortcut icon" href="https://tungeric.github.io//favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(https://tungeric.github.io//assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="https://tungeric.github.io//">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="https://tungeric.github.io//assets/img/logo.png" alt="Eric Tung photo" class="author-photo"> <h4>Eric Tung</h4> <p>I spent my life building concrete foundations - literally. Now I'm aiming for the clouds - also kind of literally but mostly I just wanted to be punny there.</p> </li> <li><a href="https://tungeric.github.io//about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="http://linkedin.com/in/ericptung" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="http://github.com/https://github.com/tungeric" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="https://tungeric.github.io//posts/">All Posts</a></li> <li><a href="https://tungeric.github.io//tags/">All Tags</a></li> </ul> </li> <li><a href="https://tungeric.github.io//projects/" >Eric Tung | Portfolio</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>SpotMe</h1> <h4>14 Oct 2017</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~3 minutes </p><!-- /.entry-reading-time --> <a class="btn zoombtn" href="https://tungeric.github.io//projects/"> <i class="fa fa-chevron-left"></i> </a> </div> <p><img src="/assets/images/spotme-logo.png" alt="Alt text" title="Logo" /></p> <p><a href="https://aldahir15.github.io/SpotMeApp/">Live demo page</a></p> <p>Picture you just discovered this hot new restaurant in a popular part of town. You make a reservation and you drive up the night up eager for a night of great food and drink. Upon getting to your destination, however, you realize that there. Is. No. Parking.</p> <p>Anywhere.</p> <p>You turn off the main street onto a residential side street and you experience the all-too-familiar torment where every time you think you see an open spot you realize that it’s only open because it’s in front of a driveway. And you think “there has to be a better way!”</p> <p>Well now there is! (Sort of.) Enter SpotMe!</p> <p>SpotMe is a mobile application I’m working on in a team of 4 engineers starting in mid-October of 2017. We’ve</p> <h1 id="features">Features</h1> <h2 id="facebook-login">Facebook login</h2> <p>One of the first challenges I tackled for this project was O-Auth. O-Auth was much more complex than anything I had learned at App Academy thus far, and took much longer than I expected. Here’s what the flow for the authentication ended up being for me:</p> <ol> <li> <p>I used a website called <a href="www.auth0.com">Auth0</a> to help me with the process. Altogether, Auth0 didn’t actually save me any steps, but because it was built to handle multiple logins through multiple sites all using a single endpoint from the developer perspective (meaning the process to add Google authentication would be theoretically minimal), it seemed to be the right way to go. The built-in debugger was very helpful in me figuring out where I was going wrong in my requests.</p> </li> <li> <p>Using Auth0, I pinged Facebook for an access code. This is a short-ish code that you’ll need for Step 3.</p> </li> <li> <p>Facebook (and other websites - including Auth0!) have a Client ID along with a Client Secret that you have to keep, well, <em>secret</em>. I ended up storing this in the backend using the Figaro gem, in the <code class="highlighter-rouge">application.yml</code> file, so the next step is to ping our backend with the access code we got in Step 2, so Rails can ping Facebook for the actual authorization token.</p> </li> <li> <p>Rails pings Facebook for the actual authorization token.</p> </li> <li> <p>So Facebook sends you the authorization token back. We’re done, right? NOPE. It gives you the token back in a Base64Url encoded format, which I then used the jwtDecoder library to decode. When the token is decoded, we finally have access to our Facebook information (email, profile, etc) and we can sign in to our app normally.</p> </li> </ol> <p>The result is glorious:</p> <p><img src="/assets/images/spotme-fb-login.gif" alt="Alt text" title="Logo" /></p> <h2 id="graphql">GraphQL</h2> <p>Not only did our team try to develop a mobile application to a minimum viable product within a week’s time, we also learned multiple technologies along the way. The first of them is GraphQL, which we built onto our Ruby on Rails backend as an alternative to more traditional RESTful APIs. Instead of having many rigid API endpoints that serve a fixed set of data, GraphQL allows for a single flexible endpoint with a powerful querying language accessible to client applications, effectively eliminating problems of over fetching or under fetching of data. This also allowed for uninhibited iteration of the front end without delay from any prerequisite modification of the backend, greatly increasing development speed of the application. The use GraphQL on the back end allowed us have a more performant and extensible application. We used Apollo Client to access our GraphQL endpoint from our React-Native front end - instead of accessing a route to GET data, for example, we simply enter in a query into our front-end:</p> <div class="highlighter-rouge"><pre class="highlight"><code>const GET_SPOTS = gql`
  query GetSpots($first: Int, $skip: Int) {
		allSpots(first: $first, skip: $skip) {
			id
			latitude
			longitude
			description
			image_url
			price
			rating
			address_number
			address_street
			address_city
			address_state
			address_zip
			reservations {
			id
			start_time
			end_time
			spot {
				id
			}
			user {
				id
				email
			}
		}
		}
	}
</code></pre></div> <h2 id="google-maps-and-seeing-all-your-spots">Google Maps and seeing all your spots</h2> <p>The major feature of the application is being able to see spots near you as you’re driving around on a map. We utilized the Google Maps API to display all the spots that we just retreived using our query</p> <p><img src="/assets/images/spotme-iphone.png" alt="iphone" title="iPhone" /></p> <p>More coming soon…</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="https://tungeric.github.io//tags/#mobile" title="Pages tagged mobile" class="tag"><span class="term">mobile</span></a><a href="https://tungeric.github.io//tags/#react-native" title="Pages tagged react-native" class="tag"><span class="term">react-native</span></a><a href="https://tungeric.github.io//tags/#redux" title="Pages tagged redux" class="tag"><span class="term">redux</span></a><a href="https://tungeric.github.io//tags/#graphql" title="Pages tagged graphql" class="tag"><span class="term">graphql</span></a><a href="https://tungeric.github.io//tags/#apollo" title="Pages tagged apollo" class="tag"><span class="term">apollo</span></a><a href="https://tungeric.github.io//tags/#rails" title="Pages tagged rails" class="tag"><span class="term">rails</span></a><a href="https://tungeric.github.io//tags/#ruby" title="Pages tagged ruby" class="tag"><span class="term">ruby</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://tungeric.github.io//spotme/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=https://tungeric.github.io//spotme/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=https://tungeric.github.io//spotme/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="https://tungeric.github.io//assets/js/jquery-1.12.0.min.js"></script> <script src="https://tungeric.github.io//assets/js/jquery.dlmenu.min.js"></script> <script src="https://tungeric.github.io//assets/js/jquery.goup.min.js"></script> <script src="https://tungeric.github.io//assets/js/jquery.magnific-popup.min.js"></script> <script src="https://tungeric.github.io//assets/js/jquery.fitvid.min.js"></script> <script src="https://tungeric.github.io//assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'tungeric'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
